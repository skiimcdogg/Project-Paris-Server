(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(48),i=n.n(c),r=n(6),o=n(2),l=n(3),u=n(5),h=n(4),d=n(49),m=n.n(d).a.create({baseURL:"https://projectparis.herokuapp.com",withCredentials:!0});function j(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var p={service:m,signup:function(e){return m.post("/api/auth/signup",e).then((function(e){return e.data})).catch(j)},signin:function(e){return m.post("/api/auth/signin",e).then((function(e){return e.data})).catch(j)},isLoggedIn:function(){return m.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(j)},logout:function(){return m.get("/api/auth/logout").then((function(e){return e.data})).catch(j)},getMonumentsList:function(){return m.get("/api/places/monuments").then((function(e){return e.data})).catch(j)},getUsersList:function(){return m.get("/api/user").then((function(e){return e.data})).catch(j)},deleteUser:function(e){return m.delete("/api/user/delete/".concat(e)).then((function(e){return e.data})).catch(j)},getMuseumsList:function(){return m.get("/api/places/museums").then((function(e){return e.data})).catch(j)},getMonument:function(e){return m.get("/api/places/monument/".concat(e)).then((function(e){return e.data})).catch(j)},getMuseum:function(e){return m.get("/api/places/museum/".concat(e)).then((function(e){return e.data})).catch(j)},getComments:function(){return m.get("/api/comments").then((function(e){return e.data})).catch(j)},addCommentMonument:function(e,t){return m.post("/api/comments/new/monument/".concat(e),t).then((function(e){return e.data})).catch(j)},addCommentMuseum:function(e,t){return m.post("/api/comments/new/museum/".concat(e),t).then((function(e){return e.data})).catch(j)},deleteComment:function(e){return console.log("working"),m.delete("/api/comments/delete/".concat(e)).then((function(e){return e.data})).catch(j)},editComment:function(e,t){return console.log("working"),m.patch("/api/comments/edit/".concat(e),t).then((function(e){return e.data})).catch(j)},getFavorites:function(){return m.get("/api/favorites").then((function(e){return e.data})).catch(j)},addFavorites:function(e){return m.post("/api/favorites/add/".concat(e)).then((function(e){return e.data})).catch(j)},deleteFavorites:function(e){return m.delete("/api/favorites/delete/".concat(e)).then((function(e){return e.data})).catch(j)}},b=a.a.createContext(),g=n(0),f=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.isLoggedIn().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return Object(g.jsx)(b.Provider,{value:e,children:this.props.children})}}]),n}(s.Component),v=n(7),x=n(9),O=function(e){return function(t){return Object(g.jsx)(b.Consumer,{children:function(n){return Object(g.jsx)(e,Object(x.a)(Object(x.a)({},t),{},{context:n}))}})}},y=(n(75),O((function(e){var t=e.context;return Object(g.jsxs)("nav",{className:"NavMain",children:[Object(g.jsx)(r.c,{exact:!0,to:"/",children:Object(g.jsx)("img",{className:"logo",src:"data:image/png;base64,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VMgqdylykNNgDR2yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgIiuyak3xmEJWDS6yIqvWFI8pZNXgliXr4pYmGzpykjZTWlOlkhWGjbIbl22KzCqthx7Xfr+9d2fwyxsmWm1DtrsUlLpt2MjxNmfphkhdijTILaJ7NFw+93wrNIyNa00Tm6e6rt6uvff5yKwS2/GUTJynLg1tGGUzFz4dqUuRBqWkA+wmBDJFAFkztZwcTJYJIGuWV5djyxQBZM3UcnIwWSaArFleXY4tUwSQNVPLycFkmcB/AXrHqponh7F0AAAAAElFTkSuQmCC",alt:""})}),Object(g.jsxs)("ul",{className:"nav-list",children:[Object(g.jsxs)("li",{children:[" ",Object(g.jsx)(r.c,{exact:!0,to:"/places",children:Object(g.jsx)("h3",{children:"Where to GO ?"})})]}),t.isLoggedIn&&Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)("li",{children:Object(g.jsxs)(r.c,{to:"/profile",children:[t.user&&t.user.lastName," ",t.user&&t.user.firstName]})}),Object(g.jsx)("li",{children:Object(g.jsx)(r.c,{to:"/users",children:"admin"===t.user.role&&"All Users"})}),Object(g.jsx)("li",{children:Object(g.jsx)("p",{onClick:function(){p.logout().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))},children:"Logout"})})]}),!t.isLoggedIn&&Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)("li",{children:Object(g.jsx)(r.c,{to:"/signin",children:"Log in"})}),Object(g.jsx)("li",{children:Object(g.jsx)(r.c,{to:"/signup",children:"Create account"})})]})]})]})}))),I=n.p+"static/media/parisVideo.9c630cc8.mp4",N=(n(81),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"video-container",children:Object(g.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,children:Object(g.jsx)("source",{src:I,type:"video/mp4"})})})}}]),n}(a.a.Component)),W=n(13),k=(n(38),n(82),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.handleChange=function(t){var n=t.target.name,s=t.target.value;e.setState(Object(W.a)({},n,s))},e.handleSubmit=function(t){t.preventDefault(),p.signin(e.state).then((function(t){e.props.context.setUser(t)})).catch((function(e){console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){return this.props.context.user?Object(g.jsx)(v.a,{to:"/"}):Object(g.jsxs)("form",{className:"main-form",onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{className:"form-control",type:"email",id:"email",name:"email"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{className:"form-control",type:"password",id:"password",name:"password"})]}),Object(g.jsx)("button",{className:"form-control btn-outline-dark",children:"Log In"})]})}}]),n}(s.Component)),C=Object(v.g)(O(k)),S=function(e){return Object(g.jsx)(C,{})},D=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={firstName:"",lastName:"",email:"",password:""},e.handleChange=function(t){var n=t.target.value,s=t.target.name;e.setState(Object(W.a)({},s,n))},e.handleSubmit=function(t){t.preventDefault(),p.signup(e.state).then((function(t){e.props.context.setUser(t)})).catch((function(e){console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){return this.props.context.user?Object(g.jsx)(v.a,{to:"/"}):Object(g.jsxs)("form",{className:"main-form",onSubmit:this.handleSubmit,children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col",children:Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"firstName",children:"First Name: "}),Object(g.jsx)("input",{className:"form-control",onChange:this.handleChange,value:this.state.firstName,type:"text",id:"firstName",name:"firstName"})]})}),Object(g.jsx)("div",{className:"col",children:Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"lastName",children:"Last Name: "}),Object(g.jsx)("input",{className:"form-control",onChange:this.handleChange,value:this.state.lastName,type:"text",id:"lastName",name:"lastName"})]})})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(g.jsx)("input",{className:"form-control",onChange:this.handleChange,value:this.state.email,type:"email",id:"email",name:"email"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(g.jsx)("input",{className:"form-control",onChange:this.handleChange,value:this.state.password,type:"password",id:"password",name:"password"})]}),Object(g.jsx)("button",{className:"form-control btn-outline-dark",children:"Submit"})]})}}]),n}(s.Component),Z=Object(v.g)(O(D)),A=function(e){return Object(g.jsx)(Z,{})},E=(n(83),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={monuments:null,museums:null,monumentsDisplay:!0,museumsDisplay:!0,isShow:!1,setIsShow:!1},e.displayMonuments=function(t){console.log(e.state.monumentsDisplay),e.state.monumentsDisplay?e.setState({monumentsDisplay:!1}):e.setState({monumentsDisplay:!0})},e.displayMuseums=function(t){console.log(e.state.museumsDisplay),e.state.museumsDisplay?e.setState({museumsDisplay:!1}):e.setState({museumsDisplay:!0})},e.searchPlaces=function(t){var n=t.target.value.toLowerCase();p.getMonumentsList().then((function(t){var s=t.monumentsRes.filter((function(e){return e.fields.tico.toLowerCase().includes(n)}));console.log(s),e.setState({monuments:s})})).catch((function(e){return console.log(e)})),p.getMuseumsList().then((function(t){var s=t.museumsRes.filter((function(e){return e.fields.nom_du_musee.toLowerCase().includes(n)}));console.log(s),e.setState({museums:s})})).catch((function(e){console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.getMonumentsList().then((function(t){e.setState({monuments:t.monumentsRes})})).catch((function(e){return console.log(e)})),p.getMuseumsList().then((function(t){e.setState({museums:t.museumsRes})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return null===this.state.monuments||null===this.state.museums?Object(g.jsx)("div",{children:"Loading..."}):Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"search-container",children:[Object(g.jsx)("input",{className:"searchBar",placeholder:"Search",value:this.state.monuments.monumentsRes||this.state.museums.museumsRes,onChange:this.searchPlaces,type:"text"}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsxs)("div",{className:"checkSearch",children:[Object(g.jsx)("label",{children:"Only Monuments "}),Object(g.jsx)("input",{onChange:this.displayMonuments,type:"checkbox"})]}),Object(g.jsxs)("div",{className:"checkSearch",children:[Object(g.jsx)("label",{children:"Only Museums "}),Object(g.jsx)("input",{onChange:this.displayMuseums,type:"checkbox"})]})]})]}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"grid-column",style:{maxHeight:"90vh",overflow:"scroll"},children:Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Name"}),Object(g.jsx)("th",{children:"Google Maps Direction"}),Object(g.jsx)("th",{children:"Detail"})]})}),Object(g.jsxs)("tbody",{children:[this.state.monuments.map((function(t){if(!0===e.state.museumsDisplay)return Object(g.jsxs)("tr",{children:[Object(g.jsxs)("td",{children:[t.fields.tico," "]}),Object(g.jsx)("td",{children:Object(g.jsx)("a",{href:"https://www.google.com/maps/dir//".concat(t.fields.coordonnees_ban),children:t.fields.wadrs})}),Object(g.jsx)("td",{className:"center",children:Object(g.jsx)("button",{className:"btn-detail",children:Object(g.jsx)(r.b,{to:"/places/monument/".concat(t._id),children:"Detail"})})})]},t._id);e.state.museumsDisplay})),this.state.museums.map((function(t){if(!0===e.state.monumentsDisplay)return Object(g.jsxs)("tr",{children:[Object(g.jsxs)("td",{children:[t.fields.nom_du_musee," "]}),Object(g.jsx)("td",{children:Object(g.jsx)("a",{href:"https://www.google.com/maps/dir//".concat(t.fields.coordonnees_finales),children:t.fields.adr})}),Object(g.jsx)("td",{className:"center",children:Object(g.jsx)("button",{className:"btn-detail",children:Object(g.jsx)(r.b,{to:"/places/museum/".concat(t._id),children:" Detail"})})})]},t._id);e.state.monumentsDisplay}))]})]})})})]})}}]),n}(s.Component)),F=n(22),w=n(15),M=n.n(w),J=(n(47),n(23)),L=O(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={content:"",rating:""},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(W.a)({},s,a))},e.getRate=function(t){var n=t.target.value;console.log(n),console.log(t.target.value),e.setState({rating:n})},e.editComment=function(t){var n=t.target.value,s=e.state,a=s.content,c=s.rating;p.editComment(n,{content:a,rating:c}).then((function(t){console.log(t),e.setState({data:t}),window.location.reload()})).catch((function(e){return console.log(e)})),e.setState({content:"",rating:""})},e}return Object(l.a)(n,[{key:"render",value:function(){return console.log(this.props.useId),console.log(this.props.id),Object(g.jsx)("div",{children:this.props.context.isLoggedIn&&this.props.context.user._id===this.props.userId&&Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"text",name:"content",value:this.state.content,onChange:this.handleChange}),Object(g.jsx)("label",{for:"ratestar",children:"rate:"}),Object(g.jsxs)("select",{value:this.state.rating,onChange:this.getRate,children:[Object(g.jsx)("option",{name:"rating",children:"Evaluate"}),Object(g.jsx)("option",{name:"rating",value:"1",children:"1"}),Object(g.jsx)("option",{name:"rating",value:"2",children:"2"}),Object(g.jsx)("option",{name:"rating",value:"3",children:"3"}),Object(g.jsx)("option",{name:"rating",value:"4",children:"4"}),Object(g.jsx)("option",{name:"rating",value:"5",children:"5"})]}),Object(g.jsx)("button",{value:this.props.id,onClick:this.editComment,children:"modify"})]},this.props.userId)})}}]),n}(s.Component)),X=O(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={comments:[],content:"",rating:""},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(W.a)({},s,a))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,s=n.content,a=n.rating,c=e.props.id;p.addCommentMonument(c,{content:s,rating:a}).then((function(t){console.log(t),console.log(Object(x.a)({data:t},e.state.comments)),e.setState({comments:[t].concat(Object(J.a)(e.state.comments))})})).catch((function(e){return console.log(e)})),e.setState({content:"",rating:""})},e.getRate=function(t){var n=t.target.value;console.log(n),console.log(t.target.value),e.setState({rating:n})},e.deleteComment=function(t){var n=t.target.value;p.deleteComment(n).then((function(t){console.log(t);var n=e.state.comments.filter((function(e){console.log(e);var n=t._id;return e._id!==n}));e.setState({comments:n}),console.log("pourquoi rafraichi pas")})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.getComments().then((function(t){console.log(t);var n=t.filter((function(t){if(e.props.id===t.placeMonument)return t}));console.log(n),e.setState({comments:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[this.props.context.isLoggedIn&&Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{name:"content",type:"text",value:this.state.content,onChange:this.handleChange}),Object(g.jsx)("button",{onClick:this.handleSubmit,children:"add"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{for:"ratestar",children:"rate:"}),Object(g.jsxs)("select",{value:this.state.rating,onChange:this.getRate,children:[Object(g.jsx)("option",{name:"rating",children:"Evaluate"}),Object(g.jsx)("option",{name:"rating",value:"1",children:"1"}),Object(g.jsx)("option",{name:"rating",value:"2",children:"2"}),Object(g.jsx)("option",{name:"rating",value:"3",children:"3"}),Object(g.jsx)("option",{name:"rating",value:"4",children:"4"}),Object(g.jsx)("option",{name:"rating",value:"5",children:"5"})]})]})]}),this.state.comments.map((function(t){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"All comments from visitors"}),Object(g.jsxs)("h4",{children:["user:",t.user.firstName,t.user.lastName,t.user._id]}),Object(g.jsxs)("p",{children:["comment:",t.content]}),Object(g.jsxs)("h2",{children:["your rate: ",t.rating]}),Object(g.jsx)(L,{id:t._id,userId:t.user._id}),e.props.context.isLoggedIn&&e.props.context.user._id===t.user._id&&Object(g.jsx)("button",{value:t._id,onClick:e.deleteComment,children:"x"})]},t._id)}))]})}}]),n}(s.Component)),q=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleSubmit=function(t){t.preventDefault();var n=e.props.match.params.id;p.addFavorites(n).then((function(t){console.log("favorite added"),console.log(t),e.props.context.setUser(t)})).catch((function(e){console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(g.jsx)("input",{type:"hidden",name:"favMuseums",value:this.props.match.params.id}),Object(g.jsx)("input",{type:"hidden",name:"favMonuments",value:this.props.match.params.id}),Object(g.jsx)("button",{children:" Add to favorites "})]})})}}]),n}(s.Component),z=Object(v.g)(O(q));M.a.accessToken="pk.eyJ1Ijoic2VpZWVlZW4iLCJhIjoiY2ttbnBzazhpMHNldzJ2bXp3anlhb3g1bCJ9.ooOkSRiyVWyRLCyIigMj6A";var B=O(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={Monument:null},e.mapDomRef=a.a.createRef(null),e.map=a.a.createRef(null).current,e.marker=a.a.createRef(null).current,e.initMap=function(t,n){e.map=new M.a.Map({container:e.mapDomRef.current,style:"mapbox://styles/mapbox/streets-v11",center:[n,t],zoom:15}),e.map.addControl(new M.a.NavigationControl),e.marker=new M.a.Marker({color:"red"}).setLngLat([n,t]).addTo(e.map)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;p.getMonument(t).then((function(t){console.log(t.monumentsRes),e.setState({Monument:t.monumentsRes});var n=Object(F.a)(e.state.Monument.fields.coordonnees_ban,2),s=n[0],a=n[1];e.initMap(s,a)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return null===this.state.Monument?Object(g.jsx)("div",{children:"Loading..."}):Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:this.state.Monument.fields.tico}),Object(g.jsxs)("h3",{children:[" Adress: ",Object(g.jsx)("br",{})," ",this.state.Monument.fields.wadrs]}),Object(g.jsx)("div",{ref:this.mapDomRef,style:{height:400,width:"100%"}}),Object(g.jsx)(X,{id:this.props.match.params.id}),this.props.context.isLoggedIn&&Object(g.jsx)(z,{}),Object(g.jsx)(r.b,{to:"/places",children:"Back to list"})]},this.state.Monument._id)}}]),n}(s.Component)),R=O(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={comments:[],content:"",rating:""},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(W.a)({},s,a))},e.getRate=function(t){var n=t.target.value;console.log(n),console.log(t.target.value),e.setState({rating:n})},e.handleSubmit=function(t){t.preventDefault();var n=e.state,s=n.content,a=n.rating,c=e.props.id;p.addCommentMuseum(c,{content:s,rating:a}).then((function(t){console.log(t),console.log(Object(x.a)({data:t},e.state.comments)),e.setState({comments:[t].concat(Object(J.a)(e.state.comments))})})).catch((function(e){return console.log(e)})),e.setState({content:"",rating:""})},e.deleteComment=function(t){var n=t.target.value;p.deleteComment(n).then((function(t){console.log(t);var n=e.state.comments.filter((function(e){console.log(e);var n=t._id;return e._id!==n}));e.setState({comments:n}),console.log("pourquoi rafraichi pas")})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.getComments().then((function(t){console.log(t);var n=t.filter((function(t){if(e.props.id===t.placeMuseum)return t}));console.log(n),e.setState({comments:n})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[this.props.context.isLoggedIn&&Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{name:"content",type:"text",value:this.state.content,onChange:this.handleChange}),Object(g.jsx)("button",{onClick:this.handleSubmit,children:"add"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{for:"ratestar",children:"rate:"}),Object(g.jsxs)("select",{value:this.state.rating,onChange:this.getRate,children:[Object(g.jsx)("option",{name:"rating",children:"Evaluate"}),Object(g.jsx)("option",{name:"rating",value:"1",children:"1"}),Object(g.jsx)("option",{name:"rating",value:"2",children:"2"}),Object(g.jsx)("option",{name:"rating",value:"3",children:"3"}),Object(g.jsx)("option",{name:"rating",value:"4",children:"4"}),Object(g.jsx)("option",{name:"rating",value:"5",children:"5"})]})]})]}),this.state.comments.map((function(t){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"All comments from visitors"}),Object(g.jsxs)("h4",{children:["user:",t.user.firstName,t.user.lastName]}),Object(g.jsxs)("p",{children:["comment:",t.content]}),Object(g.jsxs)("h2",{children:["your rate: ",t.rating]}),Object(g.jsx)(L,{id:t._id,userId:t.user._id}),e.props.context.isLoggedIn&&e.props.context.user._id===t.user._id&&Object(g.jsx)("button",{value:t._id,onClick:e.deleteComment,children:"x"})]},t._id)}))]})}}]),n}(s.Component));M.a.accessToken="pk.eyJ1Ijoic2VpZWVlZW4iLCJhIjoiY2ttbnBzazhpMHNldzJ2bXp3anlhb3g1bCJ9.ooOkSRiyVWyRLCyIigMj6A";var V=O(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={Museum:null},e.mapDomRef=a.a.createRef(null),e.map=a.a.createRef(null).current,e.marker=a.a.createRef(null).current,e.initMap=function(t,n){e.map=new M.a.Map({container:e.mapDomRef.current,style:"mapbox://styles/mapbox/streets-v11",center:[n,t],zoom:15}),e.map.addControl(new M.a.NavigationControl),e.marker=new M.a.Marker({color:"red"}).setLngLat([n,t]).addTo(e.map)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;p.getMuseum(t).then((function(t){console.log(t.museumsRes),e.setState({Museum:t.museumsRes});var n=Object(F.a)(e.state.Museum.fields.coordonnees_finales,2),s=n[0],a=n[1];e.initMap(s,a)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return null===this.state.Museum?Object(g.jsx)("div",{children:"Loading..."}):Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:this.state.Museum.fields.nom_du_musee}),Object(g.jsxs)("h3",{children:[" Adress:",Object(g.jsx)("br",{}),"  ",this.state.Museum.fields.adr]}),Object(g.jsxs)("p",{children:["Ouverture:",Object(g.jsx)("br",{})," ",this.state.Museum.fields.periode_ouverture]}),Object(g.jsxs)("p",{children:["Fermeture annuelle:  ",Object(g.jsx)("br",{})," ",this.state.Museum.fields.fermeture_annuelle]}),Object(g.jsx)("div",{ref:this.mapDomRef,style:{height:400,width:"100%"}}),Object(g.jsx)(R,{id:this.props.match.params.id}),this.props.context.isLoggedIn&&Object(g.jsx)(z,{}),Object(g.jsx)(r.b,{to:"/places",children:"Back to list"})]})}}]),n}(s.Component)),U=n(51),K=O((function(e){var t=e.component,n=e.context,s=Object(U.a)(e,["component","context"]);return n.isLoading?null:n.isLoggedIn?Object(g.jsx)(v.b,Object(x.a)(Object(x.a)({},s),{},{render:function(e){return Object(g.jsx)(t,Object(x.a)({},e))}})):Object(g.jsx)(v.a,{to:"/signin"})})),P=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={favorites:[]},e.handleClick=function(t){var n=t.target.value;p.deleteFavorites(n).then((function(t){var n=e.state.favorites.filter((function(e){var n=t._id;return e._id!==n})),s=e.props.context.user;e.props.context.setUser(Object(x.a)(Object(x.a)({},s),{},{favorites:n})),e.setState({favorites:n})})).catch((function(e){console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({favorites:this.props.favArray})}},{key:"render",value:function(){var e=this;return this.state.favorites===[]?Object(g.jsx)("div",{children:"Nothing yet"}):Object(g.jsx)("div",{children:this.state.favorites.map((function(t){return null!=t.favMonuments?Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:t.favMonuments.fields.tico}),Object(g.jsx)("button",{onClick:e.handleClick,value:t._id,children:"Delete"})]},t._id):null!=t.favMuseums?Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:t.favMuseums.fields.nom_du_musee}),Object(g.jsx)("button",{onClick:e.handleClick,value:t._id,children:"Delete"})]},t._id):void 0}))})}}]),n}(s.Component),Q=Object(v.g)(O(P)),T=O(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:null},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({user:this.props.context.user})}},{key:"render",value:function(){return null===this.state.user?Object(g.jsx)("div",{children:"Loading..."}):Object(g.jsxs)("div",{children:[Object(g.jsxs)("h1",{children:[this.state.user.firstName,"'s profile"]}),Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{children:Object(g.jsx)("th",{children:"Infos"})})}),Object(g.jsxs)("tbody",{children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:"Email: "}),Object(g.jsxs)("td",{children:[" ",this.state.user.email]})]}),Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:"LastName: "}),Object(g.jsxs)("td",{children:[" ",this.state.user.lastName]})]}),Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:"FirstName: "}),Object(g.jsxs)("td",{children:[" ",this.state.user.firstName]})]})]})]}),Object(g.jsx)("h3",{children:"My fav"}),Object(g.jsx)(Q,{favArray:this.state.user.favorites})]})}}]),n}(s.Component)),G=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={users:null},e.deleteUser=function(t){var n=t.target.value;console.log(t.target.value),console.log(e.state.users),p.deleteUser(n).then((function(){console.log("user deleted")})).catch((function(e){return console.log(e)})),window.location.reload()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.getUsersList().then((function(t){e.setState({users:t.usersRes})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return null===this.state.users?Object(g.jsx)("div",{children:"No users yet"}):Object(g.jsx)("div",{children:Object(g.jsxs)("table",{className:"table",children:[Object(g.jsx)("thead",{className:"thead-dark",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Account"}),Object(g.jsx)("th",{children:"Delete"})]})}),Object(g.jsx)("tbody",{children:this.state.users.map((function(t){return Object(g.jsxs)("tr",{children:[Object(g.jsxs)("td",{children:[t.email," "]}),Object(g.jsxs)("td",{children:[" ",Object(g.jsx)("button",{className:"btn-outline-danger",value:t._id,onClick:e.deleteUser,children:"x"})]})]},t._id)}))})]})})}}]),n}(s.Component);var Y=Object(v.g)((function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(y,{}),Object(g.jsxs)(v.d,{children:[Object(g.jsx)(v.b,{exact:!0,path:"/",component:N}),Object(g.jsx)(v.b,{exact:!0,path:"/signin",component:S}),Object(g.jsx)(v.b,{exact:!0,path:"/signup",component:A}),Object(g.jsx)(v.b,{exact:!0,path:"/users",component:G}),Object(g.jsx)(v.b,{exact:!0,path:"/places",component:E}),Object(g.jsx)(v.b,{exact:!0,path:"/places/monument/:id",component:B}),Object(g.jsx)(v.b,{exact:!0,path:"/places/museum/:id",component:V}),Object(g.jsx)(K,{exact:!0,path:"/profile",component:T})]})]})}));n(101),n(102);i.a.render(Object(g.jsx)(r.a,{children:Object(g.jsx)(f,{children:Object(g.jsx)(Y,{})})}),document.getElementById("root"))},38:function(e,t,n){},75:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.eb5d25d8.chunk.js.map